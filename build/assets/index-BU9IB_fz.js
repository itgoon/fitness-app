import{r as i,j as e,T as t,B as j,p as l,b as v,S as f,I as S,c as I,u as F}from"./index-DCohMUSq.js";import{c as E,a as C,o as R}from"./index.esm-B_BCm8yh.js";import{R as x,u as $,F as B}from"./RhfTextField-CQjN9Et2.js";import"./upgradeStorageIllustration-BigDtFz4.js";import{S as u,a as P}from"./StepFlow-C1S7k6j9.js";import{T as N}from"./TextField-D_JdeLxl.js";import{I as y}from"./InputAdornment-DTQ32jp8.js";import"./Select-DHHIZaYz.js";import"./useFormControl-Bc42zwoH.js";const g=180,z=6;function L({onNext:r}){i.useState(!1);const[n,o]=i.useState(g),[c,p]=i.useState(!1),[h,b]=i.useState(""),[m,d]=i.useState(!1);i.useEffect(()=>{let a;return c&&(a=setInterval(()=>{o(s=>s<=1?0:(g-s>=30&&d(!0),s-1))},1e3)),()=>clearInterval(a)},[c]);const w=a=>{const s=a.target.value.replace(/\D/g,"");s.length<=z&&b(s)},T=()=>{p(!0)},A=()=>{o(g),d(!1)},k=()=>{const a=Math.floor(n/60),s=n%60;return`${a}:${s<10?`0${s}`:s}`};return e.jsxs(u,{children:[e.jsxs(u,{spacing:2,sx:{mb:5,textAlign:"center"},children:[e.jsx(t,{variant:"h5",children:"비밀번호를 잊어버리셨나요?"}),e.jsxs(t,{children:["본인 확인을 위해 계정 정보를 입력해주세요.",e.jsx("br",{})," 휴대폰 번호로 인증코드 6자리가 발송됩니다."]})]}),e.jsxs(u,{spacing:2.5,children:[e.jsx(x,{name:"userId",label:"이메일"}),e.jsxs(j,{sx:{display:"flex",gap:"8px"},children:[e.jsx(x,{type:"number",name:"phone",label:"휴대폰 번호",placeholder:"-를 제외한 숫자를 입력해주세요."}),e.jsx(l,{variant:"outlined",onClick:T,sx:{height:"53px"},children:"인증하기"})]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{sx:{position:"relative"},children:[e.jsx(N,{placeholder:"인증번호 입력",value:h,onChange:w,sx:{width:"100%"}}),e.jsx(j,{sx:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:k()})]}),e.jsxs(t,{children:["인증번호가 전송되지 않으셨나요?"," ",e.jsx(l,{component:"span",onClick:A,disabled:!m,children:"인증번호 재전송"})]})]}),e.jsx(l,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",onClick:r,children:"인증 완료"}),e.jsx(l,{children:"로그인으로 돌아가기"})]})]})}function V({onNext:r}){const n=v(),o=v();return e.jsxs(f,{children:[e.jsxs(f,{spacing:2,sx:{mb:5,textAlign:"center"},children:[e.jsx(t,{variant:"h5",children:"비밀번호 재설정"}),e.jsxs(t,{children:["변경하시는 계정이 아래 계정이 맞는지 확인 후",e.jsx("br",{})," 변경하실 새 비밀번호를 입력해주세요."]})]}),e.jsxs(f,{spacing:2.5,children:[e.jsx(x,{name:"userId",disabled:!0}),e.jsx(x,{type:"password",name:"password",label:"새 비밀번호",placeholder:"새 비밀번호 입력",InputProps:{endAdornment:e.jsx(y,{position:"end",children:e.jsx(S,{onClick:n.onToggle,edge:"end",children:e.jsx(I,{icon:n.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(t,{children:"8 ~ 20자의 영문, 숫자를 조합하여 비밀번호를 입력해주세요."}),e.jsx(x,{type:"password",name:"confirm-password",label:"비밀번호 확인",InputProps:{endAdornment:e.jsx(y,{position:"end",children:e.jsx(S,{onClick:o.onToggle,edge:"end",children:e.jsx(I,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(l,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",type:"submit",onClick:r,children:"비밀번호 변경"})]})]})}function W(){const r=F();return e.jsxs(u,{children:[e.jsxs(u,{spacing:2,sx:{mb:5,textAlign:"center"},children:[e.jsx(t,{variant:"h5",children:"비밀번호가 재설정 되었습니다."}),e.jsx(t,{children:"로그인 페이지로 이동하여 다시 로그인해주세요."})]}),e.jsx(l,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",onClick:()=>r("/login"),children:"로그인 하기"})]})}function K(){const r=E().shape({userId:C().required("이메일을 입력해주새요."),password:C().required("비밀번호를 입력해주세요.")}),n=$({resolver:R(r),defaultValues:{email:"",password:"",confirmPassword:""}}),[o,c]=i.useState(0),p=()=>{c(d=>d+1)},{handleSubmit:h,formState:{isSubmitting:b}}=n,m=h(async d=>{});return e.jsx(B,{methods:n,onSubmit:m,children:e.jsxs(P,{activeStep:o,onNext:p,children:[e.jsx(L,{}),e.jsx(V,{}),e.jsx(W,{})]})})}export{K as default};
