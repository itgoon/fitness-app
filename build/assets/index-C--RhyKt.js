import{a4 as $,a5 as C,r as x,j as a,v,a6 as _,a7 as m}from"./index-DCohMUSq.js";import{a as b,C as L}from"./RhfTextField-CQjN9Et2.js";import{T as P,a as w,b as F}from"./TextField-D_JdeLxl.js";import"./upgradeStorageIllustration-BigDtFz4.js";import{S as T}from"./Select-DHHIZaYz.js";function z(e,r,n){return $.get(`/admin/${e}${e==="code"?"/codes":""}/${r}/combo`,n?{params:n}:{})}const k=async(e,r,n)=>{const i=await z(e,r,n);if(i.status!==200)throw new Error(i.statusText);return i.data};function q(){const e=C();return x.useMemo(()=>e,[e])}function E({name:e,native:r,maxHeight:n=220,helperText:i,children:o,PaperPropsSx:u,...c}){const{control:d}=b();return a.jsx(L,{name:e,control:d,render:({field:t,fieldState:{error:s}})=>a.jsx(P,{...t,select:!0,fullWidth:!0,SelectProps:{native:r,MenuProps:{PaperProps:{sx:{...!r&&{maxHeight:typeof n=="number"?n:"unset"},...u}}},sx:{textTransform:"capitalize"}},error:!!s,helperText:s?s==null?void 0:s.message:i,...c,children:o})})}const I=({label:e,value:r,isNone:n=!0,disabled:i=!1,comboType:o,comboName:u,params:c,isForm:d=!1,...t})=>{const[s,h]=x.useState([]),{t:f}=v(),g=_("i18nextLng");x.useEffect(()=>{!o||!u||S()},[o,u,c,g]);const S=x.useCallback(async()=>{const{data:l,meta:j}=await k(o,u,c);return j.errCode!==0?alert(f("exception.unknown.server.error")):h(l)},[o,u,c]);return a.jsxs(w,{disabled:i,fullWidth:!0,children:[a.jsx(F,{style:{marginLeft:"0.71em",marginTop:"-0.71em",paddingLeft:"0.44em",paddingRight:"0.44em",zIndex:2,backgroundColor:"white",position:"absolute",fontSize:"0.75em"},htmlFor:`select_${t.name}`,children:e}),d?a.jsxs(E,{...t,name:String(t.name),sx:{textTransform:"capitalize"},value:s.length>0?r:"","aria-label":String(e),children:[n&&a.jsx(m,{value:"",children:a.jsx("em",{children:"None"})},"none"),s.map(l=>a.jsx(m,{value:l.value,children:f(l.translate)},`key_${l.value}`))]}):a.jsxs(T,{...t,id:t.name,name:String(t.name),sx:{textTransform:"capitalize"},value:s.length>0&&r||"",inputProps:{id:`select_${t.name}`,"aria-label":`select_${t.name}`},children:[n&&a.jsx(m,{value:"",children:a.jsx("em",{children:"None"})},`select_${t.name}_item_none`),s.map(l=>a.jsx(m,{value:l.value,children:f(l.translate)},`select_${t.name}_item_${l.value}`))]})]})},y=I;export{y as S,q as u};
