import{G as T,r as x,j as e,T as q,p as g,B as C,S as d,b as S,P as D,c as j,J as k,K as _,x as z,v as E,z as H}from"./index-DCohMUSq.js";import{u as G}from"./useModal-DQiQv9xr.js";import{G as r,f as O,a as $,_ as M,b as V,c as W,d as Z}from"./_overview-DfAMIF09.js";import"./_calendar-DFcdXd_G.js";import{C as J}from"./CustomBreadcrumbs-Ynp4_ePu.js";import{c as K,a as p,d as Q,e as X,o as Y}from"./index.esm-B_BCm8yh.js";import{u as A,F as R,R as h,C as ee}from"./RhfTextField-CQjN9Et2.js";import{R as se,u as re,L as ae,P as ie,a as te,b as oe}from"./label-C_ZHBjg8.js";import{c as ne}from"./countries-Bz9oOPST.js";import{R as le,S as ce}from"./RhfSwitch-FNAsSL38.js";import{R as de}from"./RhfAutocomplete-BXnT0WNx.js";import{C as w}from"./Card-tftieEkb.js";import{L as F}from"./LoadingButton-Dc47B8_Y.js";import{C as L}from"./CardHeader-BEq_HueT.js";import{f as me}from"./formatTime-BWY5kPy_.js";import{L as N}from"./ListItemText-CMlDkaSe.js";import"./upgradeStorageIllustration-BigDtFz4.js";import{F as pe}from"./FormControlLabel-CtTwhY4e.js";import{C as xe}from"./Container-CRU1XRhF.js";import{T as ue,a as he}from"./Tabs-39mxCfHV.js";import"./TextField-D_JdeLxl.js";import"./Select-DHHIZaYz.js";import"./useFormControl-Bc42zwoH.js";import"./UploadAvatar-Cr9n-TCw.js";import"./SwitchBase-lNz_gExs.js";import"./Chip-Cx3_Notw.js";import"./InputAdornment-DTQ32jp8.js";import"./KeyboardArrowRight-BLOc5KWk.js";function be(){const{enqueueSnackbar:l}=T(),{user:s}=re(),o=K().shape({displayName:p().required("Name is required"),email:p().required("Email is required").email("Email must be a valid email address"),photoURL:Q().nullable().required("Avatar is required"),phoneNumber:p().required("Phone number is required"),country:p().required("Country is required"),address:p().required("Address is required"),state:p().required("State is required"),city:p().required("City is required"),zipCode:p().required("Zip code is required"),about:p().required("About is required"),isPublic:X()}),m={displayName:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",photoURL:(s==null?void 0:s.photoURL)||null,phoneNumber:(s==null?void 0:s.phoneNumber)||"",country:(s==null?void 0:s.country)||"",address:(s==null?void 0:s.address)||"",state:(s==null?void 0:s.state)||"",city:(s==null?void 0:s.city)||"",zipCode:(s==null?void 0:s.zipCode)||"",about:(s==null?void 0:s.about)||"",isPublic:(s==null?void 0:s.isPublic)||!1},u=A({resolver:Y(o),defaultValues:m}),{setValue:c,handleSubmit:b,formState:{isSubmitting:y}}=u,f=b(async t=>{try{await new Promise(n=>setTimeout(n,500)),l("Update success!"),console.info("DATA",t)}catch(n){console.error(n)}}),a=x.useCallback(t=>{const n=t[0],v=Object.assign(n,{preview:URL.createObjectURL(n)});n&&c("photoURL",v,{shouldValidate:!0})},[c]);return e.jsx(R,{methods:u,onSubmit:f,children:e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{xs:12,md:4,children:e.jsxs(w,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:[e.jsx(se,{name:"photoURL",maxSize:3145728,onDrop:a,helperText:e.jsxs(q,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",O(3145728)]})}),e.jsx(le,{name:"isPublic",labelPlacement:"start",label:"Public Profile",sx:{mt:5}}),e.jsx(g,{variant:"soft",color:"error",sx:{mt:3},children:"Delete User"})]})}),e.jsx(r,{xs:12,md:8,children:e.jsxs(w,{sx:{p:3},children:[e.jsxs(C,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(h,{name:"displayName",label:"Name"}),e.jsx(h,{name:"email",label:"Email Address"}),e.jsx(h,{name:"phoneNumber",label:"Phone Number"}),e.jsx(h,{name:"address",label:"Address"}),e.jsx(de,{name:"country",type:"country",label:"Country",placeholder:"Choose a country",options:ne.map(t=>t.label),getOptionLabel:t=>t}),e.jsx(h,{name:"state",label:"State/Region"}),e.jsx(h,{name:"city",label:"City"}),e.jsx(h,{name:"zipCode",label:"Zip/Code"})]}),e.jsxs(d,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[e.jsx(h,{name:"about",multiline:!0,rows:4,label:"About"}),e.jsx(F,{type:"submit",variant:"contained",loading:y,children:"Save Changes"})]})]})})]})})}function je({cardList:l,addressBook:s,plans:o}){const m=S(),u=S(),c=s.filter(i=>i.primary)[0],b=l.filter(i=>i.primary)[0],[y,f]=x.useState(""),[a,t]=x.useState(c),[n,v]=x.useState(b),I=x.useCallback(i=>{o.filter(B=>B.primary)[0].subscription!==i&&f(i)},[o]);x.useCallback(i=>{t(i)},[]),x.useCallback(i=>{v(i)},[]);const U=o.map(i=>e.jsx(r,{xs:12,md:4,children:e.jsxs(d,{component:D,variant:"outlined",onClick:()=>I(i.subscription),sx:{p:2.5,position:"relative",cursor:"pointer",...i.primary&&{opacity:.48,cursor:"default"},...i.subscription===y&&{boxShadow:P=>`0 0 0 2px ${P.palette.text.primary}`}},children:[i.primary&&e.jsx(ae,{color:"info",startIcon:e.jsx(j,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),e.jsxs(C,{sx:{width:48,height:48},children:[i.subscription==="basic"&&e.jsx(ie,{}),i.subscription==="starter"&&e.jsx(te,{}),i.subscription==="premium"&&e.jsx(oe,{})]}),e.jsx(C,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:i.subscription}),e.jsxs(d,{direction:"row",alignItems:"center",sx:{typography:"h4"},children:[i.price||"Free",!!i.price&&e.jsx(C,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},i.subscription));return e.jsx(e.Fragment,{children:e.jsxs(w,{children:[e.jsx(L,{title:"Plan"}),e.jsx(r,{container:!0,spacing:2,sx:{p:3},children:U}),e.jsxs(d,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[e.jsxs(r,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(r,{xs:12,md:4,sx:{color:"text.secondary"},children:"Plan"}),e.jsx(r,{xs:12,md:8,sx:{typography:"subtitle2",textTransform:"capitalize"},children:y||"-"})]}),e.jsxs(r,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(r,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing name"}),e.jsx(r,{xs:12,md:8,children:e.jsx(g,{onClick:m.onTrue,endIcon:e.jsx(j,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:a==null?void 0:a.name})})]}),e.jsxs(r,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(r,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing address"}),e.jsx(r,{xs:12,md:8,sx:{color:"text.secondary"},children:a==null?void 0:a.fullAddress})]}),e.jsxs(r,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(r,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing phone number"}),e.jsx(r,{xs:12,md:8,sx:{color:"text.secondary"},children:a==null?void 0:a.phoneNumber})]}),e.jsxs(r,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(r,{xs:12,md:4,sx:{color:"text.secondary"},children:"Payment method"}),e.jsx(r,{xs:12,md:8,children:e.jsx(g,{onClick:u.onTrue,endIcon:e.jsx(j,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:n==null?void 0:n.cardNumber})})]})]}),e.jsx(k,{sx:{borderStyle:"dashed"}}),e.jsxs(d,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{p:3},children:[e.jsx(g,{variant:"outlined",children:"Cancel Plan"}),e.jsx(g,{variant:"contained",children:"Upgrade Plan"})]})]})})}function ye({invoices:l}){const s=S();return e.jsxs(w,{children:[e.jsx(L,{title:"Invoice History"}),e.jsxs(d,{spacing:1.5,sx:{px:3,pt:3},children:[(s.value?l:l.slice(0,8)).map(o=>e.jsxs(d,{direction:"row",alignItems:"center",children:[e.jsx(N,{primary:o.invoiceNumber,secondary:me(o.createdAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),e.jsx(q,{variant:"body2",sx:{textAlign:"right",mr:5},children:$(o.price)}),e.jsx(_,{color:"inherit",underline:"always",variant:"body2",href:"#",children:"PDF"})]},o.id)),e.jsx(k,{sx:{borderStyle:"dashed"}})]}),e.jsx(d,{alignItems:"flex-start",sx:{p:2},children:e.jsx(g,{size:"small",color:"inherit",startIcon:e.jsx(j,{icon:s.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),onClick:s.onToggle,children:s.value?"Show Less":"Show More"})})]})}function ge({cards:l,plans:s,invoices:o,addressBook:m}){return e.jsxs(r,{container:!0,spacing:5,disableEqualOverflow:!0,children:[e.jsx(r,{xs:12,md:8,children:e.jsx(je,{plans:s,cardList:l,addressBook:m})}),e.jsx(r,{xs:12,md:4,children:e.jsx(ye,{invoices:o})})]})}const fe=[{subheader:"Activity",caption:"Donec mi odio, faucibus at, scelerisque quis",items:[{id:"activity_comments",label:"Email me when someone comments onmy article"},{id:"activity_answers",label:"Email me when someone answers on my form"},{id:"activityFollows",label:"Email me hen someone follows me"}]},{subheader:"Application",caption:"Donec mi odio, faucibus at, scelerisque quis",items:[{id:"application_news",label:"News and announcements"},{id:"application_product",label:"Weekly product updates"},{id:"application_blog",label:"Weekly blog digest"}]}];function we(){const{enqueueSnackbar:l}=T(),s=A({defaultValues:{selected:["activity_comments","application_product"]}}),{watch:o,control:m,handleSubmit:u,formState:{isSubmitting:c}}=s,b=o(),y=u(async a=>{try{await new Promise(t=>setTimeout(t,500)),l("Update success!"),console.info("DATA",a)}catch(t){console.error(t)}}),f=(a,t)=>a.includes(t)?a.filter(n=>n!==t):[...a,t];return e.jsx(R,{methods:s,onSubmit:y,children:e.jsxs(d,{component:w,spacing:3,sx:{p:3},children:[fe.map(a=>e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{xs:12,md:4,children:e.jsx(N,{primary:a.subheader,secondary:a.caption,primaryTypographyProps:{typography:"h6",mb:.5},secondaryTypographyProps:{component:"span"}})}),e.jsx(r,{xs:12,md:8,children:e.jsx(d,{spacing:1,sx:{p:3,borderRadius:2,bgcolor:"background.neutral"},children:e.jsx(ee,{name:"selected",control:m,render:({field:t})=>e.jsx(e.Fragment,{children:a.items.map(n=>e.jsx(pe,{label:n.label,labelPlacement:"start",control:e.jsx(ce,{checked:t.value.includes(n.id),onChange:()=>t.onChange(f(b.selected,n.id))}),sx:{m:0,width:1,justifyContent:"space-between"}},n.id))})})})})]},a.subheader)),e.jsx(F,{type:"submit",variant:"contained",loading:c,sx:{ml:"auto"},children:"Save Changes"})]})})}const Ce=[{value:"general",label:"기본정보",icon:e.jsx(j,{icon:"solar:user-id-bold",width:24})},{value:"billing",label:"계약",icon:e.jsx(j,{icon:"solar:bill-list-bold",width:24})},{value:"notifications",label:"알림",icon:e.jsx(j,{icon:"solar:bell-bing-bold",width:24})}];function Qe(){const l=z(),{t:s}=E();G();const[o,m]=x.useState("general"),u=x.useCallback((c,b)=>{m(b)},[]);return e.jsxs(xe,{maxWidth:l.themeStretch?!1:"lg",children:[e.jsx(J,{heading:s("회원상세"),links:[{name:s("회원관리")},{name:s("회원목록"),href:H.user.root},{name:s("회원상세")}],sx:{mb:{xs:3,md:5}}}),e.jsx(ue,{value:o,onChange:u,sx:{mb:{xs:3,md:5}},children:Ce.map(c=>e.jsx(he,{label:c.label,icon:c.icon,value:c.value},c.value))}),o==="general"&&e.jsx(be,{}),o==="billing"&&e.jsx(ge,{plans:M,cards:V,invoices:W,addressBook:Z}),o==="notifications"&&e.jsx(we,{})]})}export{Qe as default};
