import{j as e,r as d,u as $,T as o,v as S,x,b as T,S as I,I as w,y as k}from"./index-KTHPMv2x.js";import{b as P,C as E,c as R,a as A,u as B,o as L}from"./index.esm-BjbQxBw_.js";import"./upgradeStorageIllustration-BTkS4jBl.js";import{T as N,S as f,I as F,F as W,a as z}from"./StepFlow-COvTFaTv.js";function b({name:s,helperText:n,onEventChange:t,type:a,variant:h,className:p,isView:j,disabled:m,size:i,...v}){const{control:C}=P();return e.jsx(E,{name:s,control:C,render:({field:l,fieldState:{error:c}})=>e.jsx(N,{...l,fullWidth:!0,className:`${j?"isView":""} ${p}`,variant:h,type:a,size:i,value:a==="number"&&l.value===0?"":l.value,onChange:g=>{a==="number"?l.onChange(Number(g.target.value)):l.onChange(g.target.value),t&&t(s,g.target.value)},disabled:j?!0:m,error:!!c,helperText:c?c==null?void 0:c.message:n,...v,InputLabelProps:{shrink:!0}})})}const y=180,V=6;function q({onNext:s}){d.useState(!1);const[n,t]=d.useState(y),[a,h]=d.useState(!1),[p,j]=d.useState(""),[m,i]=d.useState(!1),v=$();d.useEffect(()=>{let u;return a&&(u=setInterval(()=>{t(r=>r<=1?0:(y-r>=30&&i(!0),r-1))},1e3)),()=>clearInterval(u)},[a]);const C=u=>{const r=u.target.value.replace(/\D/g,"");r.length<=V&&j(r)},l=()=>{h(!0)},c=()=>{t(y),i(!1)},g=()=>{const u=Math.floor(n/60),r=n%60;return`${u}:${r<10?`0${r}`:r}`};return e.jsxs(f,{children:[e.jsxs(f,{spacing:2,sx:{mb:5,textAlign:"center"},children:[e.jsx(o,{variant:"h5",children:"비밀번호를 잊어버리셨나요?"}),e.jsxs(o,{children:["본인 확인을 위해 계정 정보를 입력해주세요.",e.jsx("br",{})," 휴대폰 번호로 인증코드 6자리가 발송됩니다."]})]}),e.jsxs(f,{spacing:2.5,children:[e.jsx(b,{name:"userId",label:"이메일"}),e.jsxs(S,{sx:{display:"flex",gap:"8px"},children:[e.jsx(b,{type:"number",name:"phone",label:"휴대폰 번호",placeholder:"-를 제외한 숫자를 입력해주세요."}),e.jsx(x,{variant:"outlined",onClick:l,sx:{height:"53px"},children:"인증하기"})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{sx:{position:"relative"},children:[e.jsx(N,{placeholder:"인증번호 입력",value:p,onChange:C,sx:{width:"100%"}}),e.jsx(S,{sx:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:g()})]}),e.jsxs(o,{children:["인증번호가 전송되지 않으셨나요?"," ",e.jsx(x,{component:"span",onClick:c,disabled:!m,children:"인증번호 재전송"})]})]}),e.jsx(x,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",onClick:s,children:"인증 완료"}),e.jsx(x,{onClick:()=>v("/login"),children:"로그인으로 돌아가기"})]})]})}function D({onNext:s}){const n=T(),t=T();return e.jsxs(I,{children:[e.jsxs(I,{spacing:2,sx:{mb:5,textAlign:"center"},children:[e.jsx(o,{variant:"h5",children:"비밀번호 재설정"}),e.jsxs(o,{children:["변경하시는 계정이 아래 계정이 맞는지 확인 후",e.jsx("br",{})," 변경하실 새 비밀번호를 입력해주세요."]})]}),e.jsxs(I,{spacing:2.5,children:[e.jsx(b,{name:"userId",disabled:!0}),e.jsx(b,{type:"password",name:"password",label:"새 비밀번호",placeholder:"새 비밀번호 입력",InputProps:{endAdornment:e.jsx(F,{position:"end",children:e.jsx(w,{onClick:n.onToggle,edge:"end",children:e.jsx(k,{icon:n.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(o,{children:"8 ~ 20자의 영문, 숫자를 조합하여 비밀번호를 입력해주세요."}),e.jsx(b,{type:"password",name:"confirm-password",label:"비밀번호 확인",InputProps:{endAdornment:e.jsx(F,{position:"end",children:e.jsx(w,{onClick:t.onToggle,edge:"end",children:e.jsx(k,{icon:t.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(x,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",type:"submit",onClick:s,children:"비밀번호 변경"})]})]})}function H(){const s=$();return e.jsxs(f,{children:[e.jsxs(f,{spacing:2,sx:{mb:5,textAlign:"center"},children:[e.jsx(o,{variant:"h5",children:"비밀번호가 재설정 되었습니다."}),e.jsx(o,{children:"로그인 페이지로 이동하여 다시 로그인해주세요."})]}),e.jsx(x,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",onClick:()=>s("/login"),children:"로그인 하기"})]})}function Y(){const s=R().shape({userId:A().required("이메일을 입력해주새요."),password:A().required("비밀번호를 입력해주세요.")}),n=B({resolver:L(s),defaultValues:{email:"",password:"",confirmPassword:""}}),[t,a]=d.useState(0),h=()=>{a(i=>i+1)},{handleSubmit:p,formState:{isSubmitting:j}}=n,m=p(async i=>{});return e.jsx(W,{methods:n,onSubmit:m,children:e.jsxs(z,{activeStep:t,onNext:h,children:[e.jsx(q,{}),e.jsx(D,{}),e.jsx(H,{})]})})}export{Y as default};
